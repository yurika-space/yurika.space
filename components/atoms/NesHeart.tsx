import React from 'react';

type HeartVariant = 'full' | 'half' | 'transparent' | 'empty';

interface NesHeartProps {
  variant?: HeartVariant;
  size?: number;
  className?: string;
}

export const NesHeart: React.FC<NesHeartProps> = ({ 
  variant = 'full', 
  size = 4, 
  className = '' 
}) => {
  // Color palettes for different variants
  const colorPalettes = {
    full: ['#fff', '#444', '#f22426', '#842300'],
    half: ['#fff', '#444', '#f22426', '#842300'],
    transparent: ['#fff', '#444', '#f22426', '#842300'],
    empty: ['#adafbb'],
  };

  // Pixel patterns for each variant
  const patterns = {
    full: [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0],
      [0, 2, 3, 3, 3, 2, 0, 0, 0, 2, 3, 3, 4, 2, 0, 0],
      [2, 3, 1, 1, 3, 3, 2, 0, 2, 3, 3, 3, 3, 4, 2, 0],
      [2, 3, 1, 3, 3, 3, 3, 2, 3, 3, 3, 3, 3, 4, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 0],
      [0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 0, 0],
      [0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 0, 0, 0],
      [0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 4, 2, 0, 0, 0, 0],
      [0, 0, 0, 0, 2, 3, 3, 3, 3, 4, 2, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 2, 3, 3, 4, 2, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 2, 4, 2, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    half: [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0],
      [0, 2, 3, 3, 3, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0],
      [2, 3, 1, 1, 3, 3, 2, 0, 2, 0, 0, 0, 0, 0, 2, 0],
      [2, 3, 1, 3, 3, 3, 3, 2, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 2, 0],
      [0, 2, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 2, 0, 0],
      [0, 0, 2, 3, 3, 3, 3, 3, 0, 0, 0, 0, 2, 0, 0, 0],
      [0, 0, 0, 2, 3, 3, 3, 3, 0, 0, 0, 2, 0, 0, 0, 0],
      [0, 0, 0, 0, 2, 3, 3, 3, 0, 0, 2, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 2, 3, 3, 0, 2, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 2, 4, 2, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    transparent: [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0],
      [0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0],
      [2, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 2, 0],
      [2, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0],
      [2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0],
      [0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0],
      [0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0],
      [0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0],
      [0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    empty: [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0],
      [0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0],
      [1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0],
      [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
      [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
      [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
      [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
      [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
  };

  const colors = colorPalettes[variant];
  const pattern = patterns[variant];
  const width = pattern[0].length;
  const height = pattern.length;

  const getColor = (value: number): string => {
    if (value === 0) return 'transparent';
    return colors[value - 1];
  };

  return (
    <div
      className={`nes-heart nes-heart-${variant} ${className}`}
      style={{
        position: 'relative',
        display: 'inline-block',
        width: size * width,
        height: size * height,
      }}
    >
      <div
        style={{
          display: 'grid',
          gridTemplateColumns: `repeat(${width}, ${size}px)`,
          gridTemplateRows: `repeat(${height}, ${size}px)`,
          gap: 0,
        }}
      >
        {pattern.map((row, rowIndex) =>
          row.map((pixel, colIndex) => (
            <div
              key={`${rowIndex}-${colIndex}`}
              style={{
                width: size,
                height: size,
                backgroundColor: getColor(pixel),
              }}
            />
          ))
        )}
      </div>
    </div>
  );
};

export default NesHeart;
